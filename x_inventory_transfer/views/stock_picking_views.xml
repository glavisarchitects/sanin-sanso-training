<odoo>
    <data>
        <!-- explicit list view definition -->

        <record model="ir.ui.view" id="x_inventory_transfer_list">
            <field name="name">Inventory Transfer</field>
            <field name="model">stock.picking</field>
            <field name="inherit_id" ref="stock.vpicktree"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='state']" position="after">
                    <field name="x_movement_type"/>
                </xpath>

            </field>
        </record>


        <!-- actions opening views on models -->
        <record id="x_inventory_transfer" model="ir.actions.act_window">
            <field name="name">Inventory Transfer</field>
            <field name="res_model">stock.picking</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[]</field>
            <field name="context" eval="{'module': 'x_inventory_transfer'}"/>
<!--            <field name="view_ids"-->
<!--                   eval="[(5, 0, 0),-->
<!--                      (0, 0, {'view_mode': 'tree', 'view_id': ref('x_inventory_transfer.x_inventory_transfer_list')}),-->
<!--                      (0, 0, {'view_mode': 'form', 'view_id': ref('x_inventory_transfer.x_inventory_transfer_form')})-->
<!--                      ]"/>-->
        </record>

<!--        <record id="stock.action_picking_tree_all" model="ir.actions.act_window">-->
<!--            <field name="context" eval="{'menuitem_stock_transfer': True}"/>-->
<!--        </record>-->

<!--        <record id="stock.action_picking_form" model="ir.actions.act_window">-->
<!--            <field name="context" eval="{'menuitem_stock_transfer': True}"/>-->
<!--        </record>-->

        <record model="ir.ui.view" id="x_inventory_transfer_form">
            <field name="name">Inventory Transfer</field>
            <field name="model">stock.picking</field>
            <field name="inherit_id" ref='stock.view_picking_form'/>
            <field name="arch" type="xml">
                <xpath expr="//header/button[@name='action_confirm']" position="attributes">
                    <attribute name="attrs">{'invisible': [('state', 'not in', ('draft'))]}</attribute>
<!--                    <attribute name="invisible">(context.get('menuitem_stock_transfer',False))</attribute>-->
                </xpath>
                <xpath expr="//header/button[@name='action_assign']" position="attributes">
                    <attribute name="attrs">{'invisible': [('state', 'not in', ('draft')) ]}</attribute>
<!--                    <attribute name="invisible">(context.get('menuitem_stock_transfer',False))</attribute>-->
                    <attribute name="class" add="oe_stat_button" />
                </xpath>
                <xpath expr="//header/button[@name='action_toggle_is_locked']" position="attributes">
                    <attribute name="attrs">{'invisible': [('state', 'not in', ('draft')) ]}</attribute>
<!--                    <attribute name="invisible">(context.get('menuitem_stock_transfer',False))</attribute>-->
                </xpath>
                <xpath expr="//header/button[@name='action_confirm']" position="after">
                    <button name="prepare_processing" string="Prepare processing" attrs="{'invisible': [('state', 'not in', ('draft')) ]}"/>
                </xpath>


                <xpath expr="//div[@class='o_td_label']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='partner_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>


                <xpath expr="//field[@name='picking_type_id']" position="replace">
                    <field name="x_organization_id" invisible="1"/>
                    <field name="picking_type_id" domain="[('code','=','internal')]" />
                    <field name="x_movement_type"  />
                    <field name="x_dispatch_ids" widget="many2many_checkboxes" attrs="{'invisible': [('x_movement_type', '!=', 'between')]}"/>
                    <field name="x_shipping_methods" widget="radio" attrs="{'invisible': ['|', ('x_movement_type', '!=', 'between'), ('x_dispatch_ids', 'not in', [2,])]}" />
                </xpath>

                <xpath expr="//label[@for='scheduled_date']" position="before">
                    <field name="x_remark" widget="radio" attrs="{'invisible': [('x_movement_type', '!=', 'between')]}"/>
                </xpath>

                <xpath expr="//field[@name='origin']" position="before">
                    <field name="date"  />
                    <field name="user_id"  />
                    <field name="x_shipping_slip_number" attrs="{'invisible': [('x_movement_type', '!=', 'between')]}"/>
                    <field name="x_inbound_slip_number" attrs="{'invisible': [('x_movement_type', '!=', 'between')]}"/>
                </xpath>

                <xpath expr="//page[@name='operations']/field[@name='move_ids_without_package']/tree" position="replace">
                    <tree decoration-danger="not parent.immediate_transfer and state != 'done' and quantity_done > reserved_availability and show_reserved_availability" decoration-muted="scrapped == True or state == 'cancel' or (state == 'done' and is_locked == True)" string="Stock Moves" editable="bottom">
                        <field name="state" invisible="1" readonly="0"/>
                        <field name="x_detail_no" />
                        <field name="product_id" required="1"/>
                        <field name="x_lot_id" domain="[('product_id','=',product_id)]" attrs="{'invisible':[('has_tracking', '!=', 'lot')]}"/>
                        <field name="x_quantity"  />
                        <field name="product_uom"  />
                        <field name="x_package_qty" attrs="{'column_invisible': [('parent.x_movement_type', '!=', 'between')]}"/>
                        <field name="x_package_unit" attrs="{'column_invisible': [('parent.x_movement_type', '!=', 'between')]}"/>
                        <field name="reserved_availability" string="Reserved" />
                        <field name="location_id"  attrs="{'column_invisible': [('parent.x_movement_type', '!=', 'between')]}"/>
                        <field name="location_dest_id"  attrs="{'column_invisible': [('parent.x_movement_type', '!=', 'between')]}"/>
                        <field name="show_reserved_availability" invisible="1"/>
                        <field name="quantity_done" invisible="1"/>
                        <field name="is_locked" invisible="1"/>
                        <field name="scrapped" invisible="1"/>
                        <field name="company_id" invisible="1"/>
                        <field name="product_uom_category_id" invisible="1"/>
                        <field name="has_tracking" invisible="1"/>
                        <field name="show_details_visible" invisible="1"/>

                    </tree>
                </xpath>
<!--                <xpath expr="//notebook/page/field[@name='move_ids_without_package']" position="before">-->
<!--                    <field name="line_sequence" invisible="1"/>-->
<!--                </xpath>-->
<!--                <xpath expr="//notebook/page/field[@name='move_ids_without_package']/tree/field[@name='name']"-->
<!--                       position="after">-->
<!--                    <field name="state" invisible="1" readonly="0"/>-->
<!--                    <field name="sequence2"/>-->
<!--                    <field name="x_detail_no" />-->
<!--                    <field name="product_id" required="1"/>-->
<!--                    <field name="x_lot_id"  />-->
<!--                    <field name="x_quantity"  />-->
<!--                    <field name="product_uom_qty" invisible="1" />-->
<!--                    <field name="x_package_qty" attrs="{'column_invisible': [('parent.x_movement_type', '!=', 'between')]}"/>-->
<!--                    <field name="x_package_unit" attrs="{'column_invisible': [('parent.x_movement_type', '!=', 'between')]}"/>-->
<!--                    <field name="reserved_availability" string="Reserved" />-->
<!--                    <field name="location_id"  attrs="{'column_invisible': [('parent.x_movement_type', '!=', 'between')]}"/>-->
<!--                    <field name="location_dest_id"  attrs="{'column_invisible': [('parent.x_movement_type', '!=', 'between')]}"/>-->
<!--                </xpath>-->


            </field>
        </record>
        <record id="view_stock_warehouse_inherit" model="ir.ui.view">
            <field name="name">stock.warehouse.form.inherit</field>
            <field name="model">stock.warehouse</field>
            <field name="inherit_id" ref="stock.view_warehouse"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='code']" position="after">
                    <field name="x_organization_id" options="{'no_create': True}"/>
                </xpath>
            </field>
        </record>




        <!-- menu list -->

<!--        <menuitem name="Orders" id="x_inventory_transfer_menu" parent="stock.menu_stock_root"  action="x_inventory_transfer"/>-->



    </data>
</odoo>
